!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _Entity=__webpack_require__(2),_Entity2=_interopRequireDefault(_Entity),_Canvas=__webpack_require__(3),_Canvas2=_interopRequireDefault(_Canvas),_Sockets=__webpack_require__(7),_Sockets2=_interopRequireDefault(_Sockets),_Map=__webpack_require__(5),_Map2=_interopRequireDefault(_Map),game=(0,_Entity2["default"])("playerMap").addComponents((0,_Canvas2["default"])("mainCanvas"),(0,_Sockets2["default"])(socket),(0,_Map2["default"])());window.addEventListener("resize",function(){game.emit("resize")}),game.print(),game.emit("loadMap",{startX:0,startY:0,endX:100,endY:70}),game.print()},,function(module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};Object.prototype.hasOwnProperty=function(property){return void 0!==this[property]};var Entity=function Entity(name){var index=Entity._index++,entity={_index:index,_id:(+new Date).toString(16)+(1e8*Math.random()|0).toString(16)+index,components:{},active:!0,name:name||null};return entity.define=function(){return entity.active=!1,this},entity.activate=function(){return entity.active=!0,this},entity.checkIfActive=function(){return this.active},entity.get=function(property){if(arguments.length>1){for(var _flag_allFound=arguments.length,returnObject={},i=0;i<arguments.length;i++)returnObject[arguments[i]]=null;for(var component in this.components){if(0==_flag_allFound)return returnObject;for(var _i=0;_i<arguments.length;_i++)this.components[component].hasOwnProperty(arguments[_i])&&(returnObject[arguments[_i]]=this.components[component][arguments[_i]],_flag_allFound-=1)}return returnObject}if("string"==typeof property)for(var _component in this.components)if(this.components[_component].hasOwnProperty(property))return this.components[_component][property];if(property instanceof Array){var _flag_allFound2=property.length,returnArray=[];for(var _component2 in this.components){if(0==_flag_allFound2)return returnArray;for(var _i2=0;_i2<property.length;_i2++)this.components[_component2].hasOwnProperty(property[_i2])&&(returnArray.push(this.components[_component2][property[_i2]]),_flag_allFound2-=1)}return 0==_flag_allFound2?returnArray:!1}},entity.set=function(property,value){if("_name"===property)return void console.log("Cannot set the component's name!");if("string"==typeof property)for(var component in this.components)this.components[component].hasOwnProperty(property)&&(this.components[component][property]=value);if(property instanceof Array)for(var _component3 in this.components)for(var i=0;i<property.length;i++)this.components[_component3].hasOwnProperty(property[i])&&(this.components[_component3][property[i]]=value[i]);if("object"===("undefined"==typeof property?"undefined":_typeof(property))&&!(property instanceof Array))for(var _component4 in this.components)for(var prop in property)this.components[_component4].hasOwnProperty(prop)&&(this.components[_component4][prop]=property[prop])},entity.emit=function(event,obj,callback){for(var component in this.components)this.components[component].on(event,obj,callback)},entity.addComponents=function(components){for(var i=0;i<arguments.length;i++)this.addComponent(arguments[i]);return this},entity.addComponent=function(component){return"object"===("undefined"==typeof component?"undefined":_typeof(component))&&(component.emit=entity.emit.bind(this),component.set=entity.set.bind(this),component.get=entity.get.bind(this),component.checkIfActive=entity.checkIfActive.bind(this),this.components[component._name.toLowerCase()]=component),"function"==typeof component&&entity.addComponent(component()),this},entity.removeComponent=function(component){var _name=void 0;return"string"==typeof component&&(_name=component),"object"===("undefined"==typeof component?"undefined":_typeof(component))&&(console.log("object"),_name=component._name),"function"==typeof component&&(_name=component()._name.toLowerCase()),delete this.components[_name.toLowerCase()],this},entity.print=function(){return console.log(JSON.stringify(this,null,4)),this},Entity.list[index]=entity,entity};Entity._index=0,Entity.list={},Entity.random=function(min,max){return Math.round(Math.random()*(max-min)+min)},module.exports=Entity},function(module,exports,__webpack_require__){"use strict";var Component=__webpack_require__(4),Canvas=function(canvasId){var component=new Component;return component._name="canvas",component.canvas=document.getElementById(canvasId),component.ctx=component.canvas.getContext("2d"),component.events={resize:function(){console.log("resize "+this._name),this.resize()}.bind(component),clear:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}.bind(component)},component.resize=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight},component.resize(),component};module.exports=Canvas},function(module,exports){"use strict";module.exports=function(){this.events={},this._name,this.on=function(event,obj,callback){this.events[event]&&"function"==typeof this.events[event]&&(console.log('Emitting message "'+event+'" to Components with object '+obj),"function"==typeof obj?this.events[event](null,obj):this.events[event](obj,callback))}}},function(module,exports,__webpack_require__){"use strict";var Component=__webpack_require__(4),Map=function(options){var component=new Component;return component._name="map",component.map={},component.events={loadMap:function(map){component.emit("io_loadMap",map)}.bind(component),gotNewMap:function(map){console.log("I have a new map, hurry!"),component.set({map:map}),console.log(component.get("map"))}.bind(component)},component.randomMap=function(sizeX,sizeY){for(var m=[],x=0;sizeX>x;x++){m[x]=[];for(var y=0;sizeY>y;y++)m[x][y]=0}component.map=m},options&&options.randomMap&&options.randomMap===!0&&component.randomMap(options.sizeX,options.sizeY),component};module.exports=Map},,function(module,exports,__webpack_require__){"use strict";var Component=__webpack_require__(4),Sockets=function(socket){var component=new Component;return component._name="socket",component.events={io_loadMap:function(map){socket.emit("loadMap",map,function(map){component.emit("gotNewMap",{map:map})})}.bind(component)},component};module.exports=Sockets}]);